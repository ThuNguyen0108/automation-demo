# Persons page locators
# Source: speedydd-automation/src/locators/shared/lobby-persons.ts

# Persons List Page (/lobby/persons)
pageTitle=role=heading[name="Natural Persons"]
pageHeader=header
addNewPersonButton=button:has-text("Add new person")
actionMenuButton=button:has-text("Action")
actionMenuAddNewPerson=text=Add new person

# Create Person Modal
createModalContainer=[role="dialog"]:has-text("Create Natural Person")
createModalTitle=role=heading[name="Create Natural Person"]
createModalFirstNameInput=input[name="firstName"]
createModalMiddleNameInput=input[name="middleName"]
createModalLastNameInput=input[name="lastName"]
createModalNationalitySelect=input[name="nationality"]
createModalDobInput=input[name="dob"]
createModalAddressLine1Input=input[name="address.addressLine1"]
createModalPostCodeInput=input[name="address.postCode"]
createModalCancelButton=button:has-text("Cancel")
createModalCreateButton=button:has-text("Create Person")

# Persons grid/list
personsGrid=[id="tour_dashboard_persons"]
personCard=[id="tour_dashboard_persons"] div.rounded-2xl:has(a[href*="/lobby/edit-person/"])
personCardLink=a[href*="/lobby/edit-person/"]
emptyState=text=It seems you haven't created any persons yet.

# Search
searchInput=#search-input, input[placeholder*="Search for people" i], input[placeholder*="Search for people, companies" i]
searchResultContainer=[class*="SearchResult"], [class*="search-result"]

# Person card actions
personCardActionMenu=button:has([class*="Menu"]), button[title*="Action" i]
personCardActionButtons=[class*="ActionButtons"], [class*="action-buttons"]
personCardDeleteButton=button:has-text("Delete")
deleteOption=text=Delete

# Delete modal
# Modal component renders with class "modal-container" on outer container
# Inner div has class "bg-modal-bg-default" and contains text "Delete" or "delete"
# Note: Modal doesn't have role="dialog" by default, uses role="presentation"
deleteModal=.modal-container:has-text("Delete"), .modal-container:has-text("delete"), [class*="bg-modal-bg-default"]:has-text("Delete"), [class*="bg-modal-bg-default"]:has-text("delete")
# Delete button inside modal (chain from modal)
# Button has variants="primary" which renders class "bg-btn-primary-bg-default"
# Cancel button has variants="outlined" so it won't match this selector
deleteModalConfirmButton=button:has-text("Delete")[class*="bg-btn-primary-bg-default"]
deleteSuccessToast=text=/Person Deleted/i
errorToast=text=/failed|error/i

# Success messages
createSuccessToast=text=/Natural Person Created/i

# Person Details/Edit Page (/lobby/edit-person/[personId])
personDetailsPageTitle=role=heading
personDetailsFormFirstNameInput=input[name="firstName"]
personDetailsFormMiddleNameInput=input[name="middleName"]
personDetailsFormLastNameInput=input[name="lastName"]
personDetailsFormNationalitySelect=input[name="nationality"]
personDetailsFormDobInput=input[name="dob"]
personDetailsFormSubmitButton=button[type="submit"]

# Documents Tab
personDetailsDocumentsTab=.speedydd-tab:has-text("Documents")
personDetailsDocumentsTabByText=text=Documents
personDetailsMoreTabsMenu=.speedydd-more-tabs, [class*="more-tabs"]
personDetailsMenuDots=[class*="MenuDots"], svg
personDetailsFolderTree=[class*="FolderTree"]
personDetailsFolderItem=[id^="folder-"]
personDetailsFolderActionMenu=button:has([class*="Menu"])
personDetailsFolderRequestUpload=text=Request Upload

# Request Upload Modal
personDetailsRequestModalContainer=[id="request-upload-modal"]
personDetailsRequestModalTitle=role=heading[name="Request Upload"]
personDetailsRequestModalRequestTypeEmail=input[value="email"]
personDetailsRequestModalRequestTypeSms=input[value="sms"]
personDetailsRequestModalEmailInput=input[name="email"][type="email"]
personDetailsRequestModalEmailCCInput=input[name*="cc"]
personDetailsRequestModalLinkExpirationInput=input[name="numberDaysExpired"]
personDetailsRequestModalMessageTextarea=textarea[name="message"]
personDetailsRequestModalSubmitButton=button:has-text("Request Upload")
personDetailsRequestModalCancelButton=button:has-text("Cancel")
personDetailsRequestModalEmailLabel=label:has(input[value="email"])
personDetailsRequestModalToButton=button:has-text("To"):not(:has-text("CC"))
personDetailsRequestModalCcButton=button:has-text("CC")
personDetailsRequestModalCcInput=input[name*="cc"], input[placeholder*="CC" i]
personDetailsRequestModalForm=form
personDetailsRequestModalHeading=role=heading[name*="Request" i]

# Folder tree and document locators
personDetailsFolderTreeContainer=[class*="folder-tree"]
personDetailsFolderChevronIcon=svg[class*="DropdownCaret"], [class*="DropdownCaret"] svg
personDetailsMenuContent=[role="menu"], .popover-content, [class*="Menu"]
personDetailsRequestSuccessToast=text=/Send request document successfully/i
personDetailsModalFormContainer=form, [class*="form"]

